<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content=""><title>Book of Modern frontend tooling</title><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css"><link rel="stylesheet" href="assets/css/style.css"><link rel="stylesheet" href="assets/css/theme.css"><base href="/book-of-modern-frontend-tooling/"><script src="assets/js/scripts.js"></script></head><body><div id="wrapper"><div id="sidebar-wrapper"><ul class="sidebar-nav"><ul>
<li><a href="index.html">Introduction</a></li>
<li>Build Systems<ul>
<li><a href="build-systems/modern-tools-vs-shell-scripts.html">Modern tools vs shell scripts</a></li>
<li>Grunt<ul>
<li><a href="build-systems/grunt/getting-started.html">Getting started</a></li>
<li><a href="build-systems/grunt/linter.html">Linting code</a></li>
<li><a href="build-systems/grunt/sass.html">Integrating a CSS preprocessor</a></li>
</ul>
</li>
<li>Brunch<ul>
<li><a href="build-systems/brunch/introduction.html">Introduction</a></li>
<li><a href="build-systems/brunch/getting-started.html">Getting started</a></li>
<li><a href="build-systems/brunch/using-brunch.html">Using Brunch</a></li>
</ul>
</li>
<li>Gulp<ul>
<li><a href="build-systems/gulp/introduction.html">Introduction</a></li>
<li><a href="build-systems/gulp/getting-started.html">Getting started</a></li>
<li><a href="build-systems/gulp/writing-tasks.html">Writing tasks</a></li>
<li><a href="build-systems/gulp/references.html">References</a></li>
</ul>
</li>
</ul>
</li>
<li>Dependency management<ul>
<li>Bower<ul>
<li><a href="dependency-management/bower/introduction.html">Introduction</a></li>
</ul>
</li>
<li>WebPack<ul>
<li><a href="dependency-management/webpack/introduction.html">Introduction</a></li>
<li><a href="dependency-management/webpack/getting-started.html">Getting Started</a></li>
<li><a href="dependency-management/webpack/1-requiring-modules.html">Requiring Modules</a></li>
<li><a href="dependency-management/webpack/2-using-loaders.html">Using Loaders</a></li>
<li><a href="dependency-management/webpack/3-code-splitting.html">Code Splitting</a></li>
<li><a href="dependency-management/webpack/4-multi-entry-builds.html">Muli-entry Builds</a></li>
<li><a href="dependency-management/webpack/5-require-context.html">Require Context</a></li>
<li><a href="dependency-management/webpack/6-hot-module-replacement.html">Hot Module Replacement</a></li>
<li>Chunk Optimization</li>
<li><a href="dependency-management/webpack/8-writing-loaders-and-plugins.html">Writing Loaders And Plugins</a></li>
<li><a href="dependency-management/webpack/9-use-with-build-tools.html">Use With Build Tools</a></li>
<li><a href="dependency-management/webpack/references.html">References</a></li>
<li><a href="dependency-management/webpack/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li>Component JS</li>
<li>NPM browserify<ul>
<li><a href="dependency-management/npm-browserify/introduction.html">Introduction</a></li>
<li><a href="dependency-management/npm-browserify/getting-started.html">Getting started</a></li>
<li><a href="dependency-management/npm-browserify/writing-modules.html">Writing Modules</a></li>
<li><a href="dependency-management/npm-browserify/development-workflow.html">Development Workflow</a></li>
</ul>
</li>
</ul>
</li>
<li>Scaffolding<ul>
<li>Loom</li>
<li>Yeoman</li>
</ul>
</li>
</ul>
</ul></div><div id="page-content-wrapper"><div class="content-header"><h1><a id="menu-toggle" href="#" class="btn btn-default">Menu</a></h1></div><div class="page-content-inset"><h1 id="require-context">Require Context</h1>
<p>The <code>context</code> with webpack refers to the base folder in which modules are resolved. The primary context can be changed through the <code>context</code> option in your <code>webpack.config.js</code>.</p>
<p>Contexts can be generated on the fly as well using <code>require.context()</code>. This will create a new require method that operates within the constraints specified for the context. A useful example is when you would like to require all or certain tests within your test suite:</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">requireTest</span> <span class="o">=</span> <span class="nx">require</span><span class="p">.</span><span class="nx">context</span><span class="p">(</span><span class="s1">&#39;./tests&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="sr">/_test\.js$/</span><span class="p">);</span>
</pre></div>

</code></pre>
<p>This will create a context with:</p>
<ul>
<li><code>./tests</code> as its base,</li>
<li><code>true</code> to recusively search sub-directories,</li>
<li>and a regular expression <code>/_test\.js$/</code> the file must pass to be include. In this case, the file must end with <code>&#39;_test.js&#39;</code>.</li>
</ul>
<p>Now we can use this new require function to resolve our test file <code>./tests/bear_test.js</code>:</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">bearTest</span> <span class="o">=</span> <span class="nx">requireTest</span><span class="p">(</span><span class="s1">&#39;./bear_test.js&#39;</span><span class="p">);</span>
</pre></div>

</code></pre>
<p>Or more useful, retrieving a list of modules the context contains (<code>require.keys()</code>) to require all tests within the <code>./tests</code> folder that end with <code>_test.js</code>:</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">requireTest</span> <span class="o">=</span> <span class="nx">require</span><span class="p">.</span><span class="nx">context</span><span class="p">(</span><span class="s1">&#39;./tests&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="sr">/_test\.js$/</span><span class="p">);</span>
<span class="nx">requireTest</span><span class="p">.</span><span class="nx">keys</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">requireTest</span><span class="p">);</span>
</pre></div>

</code></pre>
<p>Or setup to ignore certain tests:</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">requireTest</span> <span class="o">=</span> <span class="nx">require</span><span class="p">.</span><span class="nx">context</span><span class="p">(</span><span class="s1">&#39;./tests&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="sr">/_test\.js$/</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ignoredTests</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">&#39;./ignoreme_test.js&#39;</span>
<span class="p">];</span>
<span class="nx">requireTest</span><span class="p">.</span><span class="nx">keys</span><span class="p">().</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">testName</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">ignoredTests</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">testName</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">requireTest</span><span class="p">);</span>
</pre></div>

</code></pre>
<p>The require context is a very useful feature when integrating with a framework with a built-in method of resolving pieces, such as with Ember resolvers.</p>
</div></div><script type="text/javascript">$("#menu-toggle").click(function(e) {
    e.preventDefault();
    $("#wrapper").toggleClass("active");
});
</script><hr><div id="footer" class="center">Copyright 2014</div></div><!-- include ./includes/ga.jade--></body></html>