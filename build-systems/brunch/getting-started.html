<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content=""><title>Book of Modern frontend tooling</title><link href="http://fonts.googleapis.com/css?family=Droid+Sans" rel="stylesheet" type="text/css"><link rel="stylesheet" href="http://getbootstrap.com/dist/css/bootstrap.min.css"><link rel="stylesheet" href="/book-of-modern-frontend-tooling/assets/css/style.css"><base href="/book-of-modern-frontend-tooling/"><script src="http://code.jquery.com/jquery-2.1.0.min.js"></script></head><body><div id="container" class="container-fluid"><div class="row"><div id="sidebar" class="sidebar col-md-3"><div><div class="logo"><a href="https://github.com/tooling/book-of-modern-frontend-tooling">The Front-end Tooling Book</a></div><br><ul>
<li><p><a href="index.html">Introduction</a></p>
</li>
<li><p>Scaffolding</p>
<ul>
<li>Yeoman</li>
<li>Brunch</li>
<li>Loom</li>
</ul>
</li>
<li><p>Dependency management</p>
<ul>
<li>Bower<ul>
<li><a href="dependency-management/bower/introduction.html">Introduction</a></li>
</ul>
</li>
<li>WebPack<ul>
<li><a href="dependency-management/webpack/introduction.html">Introduction</a></li>
<li><a href="dependency-management/webpack/getting-started.html">Getting Started</a></li>
<li><a href="dependency-management/webpack/1-requiring-modules.html">Requiring Modules</a></li>
<li><a href="dependency-management/webpack/2-using-loaders.html">Using Loaders</a></li>
<li><a href="dependency-management/webpack/3-code-splitting.html">Code Splitting</a></li>
<li><a href="dependency-management/webpack/4-multi-entry-builds.html">Muli-entry Builds</a></li>
<li><a href="dependency-management/webpack/5-require-context.html">Require Context</a></li>
<li><a href="dependency-management/webpack/6-hot-module-replacement.html">Hot Module Replacement</a></li>
<li>Chunk Optimization</li>
<li><a href="dependency-management/webpack/8-writing-loaders-and-
plugins.html">Writing Loaders And Plugins</a></li>
<li><a href="dependency-management/webpack/9-use-with-build-tools.html">Use With Build Tools</a></li>
<li><a href="dependency-management/webpack/references.html">References</a></li>
<li><a href="dependency-management/webpack/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li>NPM browserify<ul>
<li><a href="dependency-management/npm-browserify/introduction.html">Introduction</a></li>
<li><a href="dependency-management/npm-browserify/getting-started.html">Getting started</a></li>
<li><a href="dependency-management/npm-browserify/writing-modules.html">Writing Modules</a></li>
<li><a href="dependency-management/npm-browserify/development-workflow.html">Development Workflow</a></li>
</ul>
</li>
</ul>
</li>
<li><p>Build Systems</p>
<ul>
<li>Modern tools vs shell scripts</li>
<li>Grunt<ul>
<li><a href="build-systems/grunt/getting-started.html">Getting started</a></li>
<li><a href="build-systems/grunt/linter.html">Linting code</a></li>
<li><a href="build-systems/grunt/sass.html">Integrating a CSS preprocessor</a></li>
</ul>
</li>
<li>Brunch<ul>
<li><a href="build-systems/brunch/introduction.html">Introduction</a></li>
<li><a href="build-systems/brunch/getting-started.html">Getting started</a></li>
<li><a href="build-systems/brunch/using-brunch.html">Using Brunch</a></li>
</ul>
</li>
<li>Gulp<ul>
<li><a href="build-systems/gulp/introduction.html">Introduction</a></li>
<li><a href="build-systems/gulp/getting-started.html">Getting started</a></li>
<li><a href="build-systems/gulp/writing-tasks.html">Writing tasks</a></li>
<li><a href="build-systems/gulp/references.html">References</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></div><div id="content" class="content col-md-9"><h1 id="getting-started">Getting started</h1>
<h2 id="-installation-"><em>Installation</em></h2>
<p>The first thing to do is install the <code>brunch</code> command with <code>npm</code> by running <code>sudo npm install brunch -g</code>. You&#39;ll also want to be using <a href="http://bower.io">Bower</a> for external packages, which Brunch has excellent support for.</p>
<h2 id="-walkthrough-"><em>Walkthrough</em></h2>
<h2 id="conventions">Conventions</h2>
<p>Brunch has a few conventions that help keep things simple - but you don&#39;t have to follow all of them. Firstly, Brunch asks you to specify a folder called &#39;assets&#39; that is directly copied into your output folder with no modifications. Secondly, most Brunch projects have two separate JavaScript files - app.js, which contains your code, and vendor.js for all external libraries, including bower packages. This allows you to package your files into modules without affecting external libraries.</p>
<h2 id="folder-structure">Folder structure</h2>
<p>In order to understand how best to use Brunch, lets look at a typical folder structure and modify it to follow Brunch&#39;s conventions.</p>
<p>The application we&#39;ll be converting uses CoffeeScript, AngularJS, and LESS, and has no current build system beyond running the CoffeeScript and LESS watchers on the app/ directory. Here&#39;s what the application structure looks like before we install Brunch:</p>
<pre><code class="lang-bash"><div class="highlight"><pre><span class="p">|</span>- app/ <span class="c"># this folder is served statically, with the compiled files living alongside the originals</span>
<span class="p">|</span>-- images/
<span class="p">|</span>-- scripts/ <span class="c"># contains .coffee files, which are converted to .js files by coffee -wc</span>
<span class="p">|</span>--- components/ <span class="c"># components, installed by bower. Currently</span>
<span class="p">|</span>-- styles/ <span class="c"># contains .less files, which are converted into .css files by the less watcher</span>
<span class="p">|</span>-- views/ <span class="c"># angularjs views and templates.</span>
<span class="p">|</span>- index.html <span class="c"># the main app file. Includes &lt;script&gt; tags for every .js file and bower component</span>
<span class="p">|</span>- <span class="nb">test</span>/
<span class="p">|</span>- server.coffee <span class="c"># our server file - statically serves the app directory when run.</span>
<span class="p">|</span>- bower.json <span class="c"># bower package folder - still using the old version of bower</span>
<span class="p">|</span>- .bowerrc <span class="c"># bower config file that tells it to install into the app/components folder</span>
<span class="p">|</span>- package.json <span class="c"># npm package folder</span>
</pre></div>

</code></pre>
<p>The first thing we need to do is modify the application structure to fit Brunch&#39;s conventions. That means moving installed packages to outside the <code>app/</code> directory, and creating an assets folder for static files.</p>
<p>The assets folder will live inside <code>app/</code>. It needs to contain any files that will be served statically - in this case, just <code>index.html</code> along with the <code>images/</code> and <code>views/</code> folders.</p>
<p>For this project, we also had to delete the existing bower configuration file (.bowerrc) and <code>components/</code> folder, rename the <code>component.json</code> file to <code>bower.json</code> before updating bower to the latest version. Running <code>bower install</code> created a <code>bower_components/</code> folder in the root project directory. This allows Brunch to easily identify which files are part of our app and which files are external libraries without having to write any complex regular expressions.</p>
<p>Finally, we need to update our index.html to be aware of the changes in structure. Currently, we have this in the head:</p>
<pre><code class="lang-html"><div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;/styles/bootstrap.min.css&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;/styles/main.css&quot;</span><span class="nt">&gt;</span>
</pre></div>

</code></pre>
<p>and this in the body:</p>
<pre><code class="lang-html"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/components/jquery/jquery.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/components/lodash/lodash.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/components/angular-unstable/angular.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/components/angular-bootstrap/ui-bootstrap-tpls.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/components/angular-sanitize/angular-sanitize.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/components/angular-resource/angular-resource.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/components/angular-cookies/angular-cookies.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;scripts/app.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;scripts/directives.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;scripts/data.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;scripts/services.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;scripts/controllers/landing.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;scripts/controllers/decision-tree.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;scripts/controllers/resource.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;scripts/controllers/task.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

</code></pre>
<p>Ouch! With Brunch, we can replace the css files with this:</p>
<pre><code class="lang-html"><div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;/css/app.css&quot;</span><span class="nt">&gt;</span>
</pre></div>

</code></pre>
<p>and the ridiculous number of scripts with this:</p>
<pre><code class="lang-html"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/js/vendor.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/js/app.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

</code></pre>
<p>Much better!</p>
</div></div><div id="footer" class="center">&copy; 2014 <a href="https://github.com/tooling/book-of-modern-frontend-tooling">The Front-end Tooling Book</a> Authors. Brought to you with love by the <a href='https://github.com/tooling/book-of-modern-frontend-tooling/graphs/contributors'>community</a>. Released under a CC-BY-SA-4.0 license.</div></div><!-- include ./includes/ga.jade--></body></html>